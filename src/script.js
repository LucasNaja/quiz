const btnNext=document.querySelector('#next'),btnStart=document.querySelector('#start'),btnGiveUp=document.querySelector('#giveUp'),btnShowAnswers=document.querySelector('#showAnswers'),btnFinish=document.querySelector('#finish'),btnSave=document.querySelector('#save'),btnRanking=document.querySelector('#rank'),selectQuiz=document.querySelector('#selectQuiz'),quiz=document.querySelector('#quiz'),pagination=document.querySelector('#pagination'),winPoints=document.querySelector('#points'),star=document.querySelector('#star'),showAnswers=document.querySelector('#answers'),quisSave=document.querySelector('#quizSave'),hitsSave=document.querySelector('#hitsSave'),timeSave=document.querySelector('#timeSave'),textName=document.querySelector('#name'),types=document.querySelectorAll('[name=selectQuiz]'),modal5=document.querySelector('#modal5'),switcherTheme=document.querySelector('#darktheme'),root=document.querySelector(':root');let timeInterval,points=0,currentQuestion=0,matches=[],selectedType=-1,time=0;modal5.onkeydown=a=>{13===a.which&&(save(),renderSavedItems())};function render(){let a=`<p id="time" style="margin:5px 0 0 0">${timeProgress(time)}<i class="material-icons right" style="top:-2px;margin-left:5px">access_time</i></p><h6>${currentQuestion+1}. ${questions[selectedType][currentQuestion]}</h6>`;const b=[answers[selectedType][currentQuestion],...fakeAnswers[selectedType][currentQuestion]],c=[];for(let f,d=0;d<b.length;d++){for(f=parseInt(Math.random()*b.length);-1!==c.indexOf(f);)f=parseInt(Math.random()*b.length);c[d]=f;a+=`
        <p>
          <label>
            <input class="with-gap" name="question${currentQuestion}" data-text="${b[f]}" type="radio" />
            <span>${['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','X','W','Y','Z'][d]}) ${b[f]}</span>
          </label>
        </p>
      `}createPagination(),quiz.innerHTML=a}function createPagination(){htmlPagination='<li class="disabled"><a><i class="material-icons">chevron_left</i></a></li>';for(let a=0;a<questions[selectedType].length;a++)htmlPagination+=`<li class="${matches[a]===void 0?'':'waves-effect waves-light'} ${currentQuestion===a?'active corFundo3 c-df no-border waves-effect waves-light':`${matches[a]===void 0?'disabled':1===matches[a]?`active green c-df no-border ${a===questions[selectedType].length-1?'':'brw'}`:`active red c-df no-border ${a===questions[selectedType].length-1?'':'brw'}`}`}"><a>${a+1}</a></li>`;htmlPagination+='<li class="disabled"><a><i class="material-icons">chevron_right</i></a></li>',pagination.innerHTML=htmlPagination}function timeProgress(a){const b=parseInt(a/3600);a-=3600*b;const c=parseInt(a/60);return a-=60*c,1===b?(M.Modal.getInstance(document.querySelector('#modal6')).open(),void stop()):`${c}m ${a}s`}function reTimeProgress(a=String){const b=a.split(' '),c=60*parseInt(b[0].replace('m',''))+parseInt(b[1].replace('s',''));return c}function start(){selectQuiz.className='hide',btnStart.className='hide',quiz.className='card-panel',btnNext.className='btn waves-effect waves-light',btnGiveUp.className='btn right waves-effect waves-light modal-trigger red',pagination.className='pagination center',btnRanking.className='hide',types.forEach((a,b)=>{a.checked&&(selectedType=b,document.title=`Quiz - ${a.getAttribute('data-text')}`)}),render(),timeInterval=setInterval(()=>{document.querySelector('#time').innerHTML=`${timeProgress(++time)}<i class="material-icons right" style="top:-2px;margin-left:5px">access_time</i>`},1e3)}function stop(){selectQuiz.className='card-panel',btnStart.className='btn waves-effect waves-light',quiz.className='hide',btnNext.className='hide',btnGiveUp.className='hide',btnShowAnswers.className='hide',btnFinish.className='hide',pagination.className='hide',btnRanking.className='btn waves-effect waves-light right modal-trigger',btnSave.className='hide',document.title='Quizzes - In\xEDcio',points=0,currentQuestion=0,selectedType=-1,matches=[],clearInterval(timeInterval),time=0}function next(){const a=document.querySelectorAll(`[name=question${currentQuestion}]`);let b=0;if(a.forEach(c=>{c.checked||b++}),b===a.length)M.toast({html:'Voc\xEA deve selecionar uma resposta!',classes:'red accent-4',displayLength:2050});else if(a.forEach(c=>{c.checked&&c.getAttribute('data-text')===answers[selectedType][currentQuestion]&&(matches.push(1),points+=1)}),void 0===matches[currentQuestion]&&matches.push(0),currentQuestion+=1,currentQuestion===answers[selectedType].length){clearInterval(timeInterval),a.forEach(d=>{d.disabled=!0}),btnNext.className='hide',btnGiveUp.className='hide',btnShowAnswers.className='btn waves-effect waves-light right modal-trigger',btnSave.className='btn waves-effect waves-light modal-trigger green',btnFinish.className='btn waves-effect waves-light',btnShowAnswers.onclick=()=>{let d='<h4><i class="material-icons" style="top:2px">question_answer</i> Respostas</h4>';for(let f=0;f<answers[selectedType].length;f++)d+=`
            <p style="margin:0">${f+1}. ${questions[selectedType][f]}</p>
            <p style="margin:0 0 10px 0">R: ${answers[selectedType][f]} <i class="material-icons ${0===matches[f]?'red-text':'green-text'}" style="top:${0===matches[f]?'7':'5'}px;margin:-7px 0 0 0">${0===matches[f]?'clear':'done'}</i></p>
          `;showAnswers.innerHTML=d},quisSave.innerHTML=types[selectedType].getAttribute('data-text'),hitsSave.innerHTML=`${matches.filter(d=>1===d).length}/${questions[selectedType].length}`,timeSave.innerHTML=timeProgress(time);const c=100*(points/answers[selectedType].length);winPoints.innerHTML=`${points} de ${questions[selectedType].length} e obteve um desempenho de <span class="${50>c?'red-text':'green-text'}">${c.toFixed(1)}%</span>`,star.className=`material-icons ${50>c?'red-text':'green-text'}`,M.Modal.getInstance(document.querySelector('#modal2')).open(),createPagination()}else render()}function arraySort(a){const b=[];for(let c=-1,d=-1,f=3600;0<a.length;){for(let g=0;g<a.length;g++)a[g][2]>c?(d=g,f=reTimeProgress(a[g][4]),c=a[g][2]):a[g][2]===c&&reTimeProgress(a[g][4])<f&&(d=g,f=reTimeProgress(a[g][4]));c=-1,f=3600,b.push(a[d]),a.splice(d,1)}return b}function save(){if(''!==textName.value.trim()&&2<textName.value.length){const a=localStorage.getItem('registeredItems');if(null===a)localStorage.setItem('registeredItems',`{"items":[["${types[selectedType].getAttribute('data-text')}","${textName.value}",${matches.filter(b=>1===b).length}, ${questions[selectedType].length},"${timeProgress(time)}"]]}`);else{let b=JSON.parse(a).items;b.push([types[selectedType].getAttribute('data-text'),textName.value,matches.filter(c=>1===c).length,questions[selectedType].length,timeProgress(time)]),b=arraySort(b),localStorage.setItem('registeredItems',`{"items":${JSON.stringify(b)}}`)}M.Modal.getInstance(modal5).close(),btnSave.className='hide',textName.value='',textName.select()}else M.toast({html:'Por favor, escolha um nome v\xE1lido!',classes:'red accent-4',displayLength:2050}),textName.select()}function renderSavedItems(){M.Tabs.getInstance(document.querySelector('#tabs'))!==void 0&&M.Tabs.getInstance(document.querySelector('#tabs')).destroy();let c,d,a='',b='';const f=localStorage.getItem('registeredItems'),g='<table class="responsive-table"><thead><tr><th>Nome</th><th>Acertos</th><th>Tempo</th></tr></thead><tbody>';null!==f&&(d=JSON.parse(f).items);for(let h=0;h<types.length;h++){if(a+=`<li class="tab tabs-fixed-width tab-demo"><a href="#quiz${h}">${types[h].getAttribute('data-text')}</a></li>`,c=g,null!==f)for(let k=0;k<d.length;k++)types[h].getAttribute('data-text')===d[k][0]&&(c+=`
            <tr>
              <td>${d[k][1]}</td>
              <td>${d[k][2]}/${d[k][3]}</td>
              <td>${d[k][4]}</td>
            </tr>
          `,d.splice(k,1),k--);c+='</tbody></table>',b+=`<div id="quiz${h}">${c}</div>`,c=g}document.querySelector('#tabs').innerHTML=a,document.querySelector('#tabItems').innerHTML=b,M.Tabs.init(document.querySelectorAll('.tabs'))}function clearSavedItems(){localStorage.removeItem('registeredItems'),renderSavedItems()}function darkTheme(){localStorage.setItem('darktheme','true'),root.style.setProperty('--corFundo','#242b38'),root.style.setProperty('--corFundo2','#2a3342'),root.style.setProperty('--corFundoScroll','#2a3342'),root.style.setProperty('--corScroll','#2962ff'),root.style.setProperty('--corScrollHover','#0b4cff'),root.style.setProperty('--corSwitcher','#2962ff'),root.style.setProperty('--corSwitcherBall','#0b4cff'),root.style.setProperty('--corFundo3','#2962ff'),root.style.setProperty('--corFundoActive','#0b4cff'),root.style.setProperty('--corTexto','white')}function lightTheme(){localStorage.removeItem('darktheme'),root.style.setProperty('--corFundo','white'),root.style.setProperty('--corFundo2','white'),root.style.setProperty('--corFundoScroll','#ededed'),root.style.setProperty('--corScroll','#929292'),root.style.setProperty('--corScrollHover','grey'),root.style.setProperty('--corSwitcher','#9e9e9e'),root.style.setProperty('--corSwitcherBall','#f1f1f1'),root.style.setProperty('--corFundo3','#009688'),root.style.setProperty('--corFundoActive','#007267'),root.style.setProperty('--corTexto','black')}'true'===localStorage.getItem('darktheme')?(darkTheme(),switcherTheme.checked=!0):lightTheme(),window.addEventListener('DOMContentLoaded',function(){M.Sidenav.init(document.querySelectorAll('.sidenav')),M.Modal.init(document.querySelectorAll('.modal')),M.FloatingActionButton.init(document.querySelectorAll('.fixed-action-btn'),{hoverEnabled:!1}),renderSavedItems(),btnRanking.onclick=()=>{let a;types.forEach((b,c)=>{b.checked&&(a=document.querySelectorAll('.tab')[c],a.querySelector('a').click())}),setTimeout(()=>{M.Tabs.getInstance(document.querySelector('#tabs')).updateTabIndicator(),document.querySelector('#tabs').scrollLeft=a.offsetLeft},300)}}),window.onload=()=>{btnStart.onclick=start,btnNext.onclick=next,btnFinish.onclick=stop,document.querySelector('#preloader').className='hide',document.querySelector('#nav').className='',document.querySelector('#container').className='container'};